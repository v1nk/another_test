{#
  /**
   * @file
   * Theme override to display a node.
   *
   * Available variables:
   * - node: The node entity with limited access to object properties and methods.
       Only "getter" methods (method names starting with "get", "has", or "is")
       and a few common methods such as "id" and "label" are available. Calling
       other methods (such as node.delete) will result in an exception.
   * - label: The title of the node.
   * - content: All node items. Use {{ content }} to print them all,
   *   or print a subset such as {{ content.field_example }}. Use
   *   {{ content|without('field_example') }} to temporarily suppress the printing
   *   of a given child element.
   * - author_picture: The node author user entity, rendered using the "compact"
   *   view mode.
   * - metadata: Metadata for this node.
   * - date: Themed creation date field.
   * - author_name: Themed author name field.
   * - url: Direct URL of the current node.
   * - display_submitted: Whether submission information should be displayed.
   * - attributes: HTML attributes for the containing element.
   *   The attributes.class element may contain one or more of the following
   *   classes:
   *   - node: The current template type (also known as a "theming hook").
   *   - node--type-[type]: The current node type. For example, if the node is an
   *     "Article" it would result in "node--type-article". Note that the machine
   *     name will often be in a short form of the human readable label.
   *   - node--display-mode-[view_mode]: The View Mode of the node; for example, a
   *     teaser would result in: "node--display-mode-teaser", and
   *     full: "node--display-mode-full".
   *   The following are controlled through the node publishing options.
   *   - node--promoted: Appears on nodes promoted to the front page.
   *   - node--sticky: Appears on nodes ordered above other non-sticky nodes in
   *     teaser listings.
   *   - node--unpublished: Appears on unpublished nodes visible only to site
   *     admins.
   * - title_attributes: Same as attributes, except applied to the main title
   *   tag that appears in the template.
   * - content_attributes: Same as attributes, except applied to the main
   *   content tag that appears in the template.
   * - author_attributes: Same as attributes, except applied to the author of
   *   the node tag that appears in the template.
   * - title_prefix: Additional output populated by modules, intended to be
   *   displayed in front of the main title tag that appears in the template.
   * - title_suffix: Additional output populated by modules, intended to be
   *   displayed after the main title tag that appears in the template.
   * - view_mode: View mode; for example, "teaser" or "full".
   * - teaser: Flag for the teaser state. Will be true if view_mode is 'teaser'.
   * - page: Flag for the full page state. Will be true if view_mode is 'full'.
   * - readmore: Flag for more state. Will be true if the teaser content of the
   *   node cannot hold the main body content.
   * - logged_in: Flag for authenticated user status. Will be true when the
   *   current user is a logged-in member.
   * - is_admin: Flag for admin user status. Will be true when the current user
   *   is an administrator.
   *
   * @see template_preprocess_node()
   *
   * @todo Remove the id attribute (or make it a class), because if that gets
   *   rendered twice on a page this is invalid CSS for example: two lists
   *   in different view modes.
   */
  #}
  {{ attach_library('uagc/main') }}

  {%
    set classes = [
      'node',
      'node--type-' ~ node.bundle|clean_class,
      node.isPromoted() ? 'node--promoted',
      node.isSticky() ? 'node--sticky',
      not node.isPublished() ? 'node--unpublished',
      view_mode ? 'node--display-mode-' ~ view_mode|clean_class,
    ]
  %}

{% if ( node.field_dynamic_phone_numbers | length > 0) %}
<script>
  var phoneList = {};

  {% for item in node.field_dynamic_phone_numbers %}
    {% if item.entity.field_phone_key %}
      phoneList['{{ item.entity.field_phone_key.value }}']= '{{ item.entity.field_phone_value.value }}'
    {% endif %}
  {% endfor %}


  var queryString = window.location.search;
  if(queryString != '') {
    var phoneElement = document.querySelector('.site-header__cta-link.--phone');
    if(phoneElement) {
      queryString = queryString.substring(1);
      var queryParams = queryString.split('&');
      var qParams = {};
      for(var i = 0; i< queryParams.length; i++){
        var temp = queryParams[i].split("=");
        qParams[temp[0]] = temp[1];
      }
      var newNumber = phoneList[qParams.utm_phone];
      if(newNumber) {
        phoneElement.innerText = newNumber;
        phoneElement.href = "tel:"+newNumber;
      }
    }
  }
</script>
{% endif %}
 
  <script type="text/javascript">
    window.ashfordlfs = window.ashfordlfs || {};
    window.ashfordlfs.{{ node.bundle ~ node.getCreatedTime() | clean_class }} = window.ashfordlfs.{{ node.bundle ~ node.getCreatedTime() | clean_class }} || {};
  
    {% if node.field_clientdocumentid.value != '' %}
      window.ashfordlfs.{{ node.bundle ~ node.getCreatedTime() | clean_class }}.clientdocumentid = '{{ node.field_clientdocumentid.value }}';
    {% endif %}
  
    {% if node.field_sourceid.value != '' %}
      window.ashfordlfs.{{ node.bundle ~ node.getCreatedTime() | clean_class }}.sourceid = '{{ node.field_sourceid.value }}';
    {% endif %}
  
    {% if node.field_revisionid.value != '' %}
      window.ashfordlfs.{{ node.bundle ~ node.getCreatedTime() | clean_class }}.revisionid = '{{ node.field_revisionid.value }}';
    {% endif %}
  
    {% if node.field_form_id_class	.value != '' %}
      window.ashfordlfs.{{ node.bundle ~ node.getCreatedTime() | clean_class }}.formidclass = '{{ node.field_form_id_class	.value }}';
    {% endif %}
  

    
  window.ashfordlfs.{{ node.bundle ~ node.getCreatedTime() | clean_class }}.degrees = [
  {% for key, item in node.field_degrees if key|first != '#' %}
  '{{item.entity.title.value}}',
  {% endfor %}
  ];

  window.ashfordlfs.{{ node.bundle ~ node.getCreatedTime() | clean_class }}.interests = [
  {% for key, item in node.field_interest if key|first != '#' %}
    '{{item.entity.name.value | raw}}',
  {% endfor %}
  ];

  
  </script>
  
  <style>
    .ivy-main {
      display: none !important;
    }
  
    .embeddedServiceHelpButton {
      display: none !important;
    }
  </style>
  
  
  
  
  {% if node.field_hide_modal_form.value == '1' %}
  <script type="text/javascript"> 
    window.uagc_hide_modal = true;
  </script>  
  {% endif %}
  
  
  {% if(node.field_navigation) %}
  <script>
    var phoneList = {};
  
    {% if node.field_navigation.entity %}
      {% for item in node.field_navigation.entity.field_dynamic_phone_numbers %}
        {% if item.entity.field_phone_key %}
          phoneList['{{ item.entity.field_phone_key.value }}']= '{{ item.entity.field_phone_value.value }}'
        {% endif %}
      {% endfor %}
    {% endif %}
  
  
    var queryString = window.location.search;
    if(queryString != '') {
      var phoneElement = document.querySelector('.site-header__cta-link.--phone');
      if(phoneElement) {
        queryString = queryString.substring(1);
        var queryParams = queryString.split('&');
        var qParams = {};
        for(var i = 0; i< queryParams.length; i++){
          var temp = queryParams[i].split("=");
          qParams[temp[0]] = temp[1];
        }
        var newNumber = phoneList[qParams.utm_phone];
        if(newNumber) {
          phoneElement.innerText = newNumber;
          phoneElement.href = "tel:"+newNumber;
        }
      }
    }
  </script>
  {% endif %}

  {% set sidebarLogic = '' %}
  {% if node.field_hide_sidebar_rfi.value  == 1 %}
    {% set sidebarLogic = 'columns__full-width' %}
  {% else %}
    {% set sidebarLogic = 'columns__left' %}
  {% endif %}

  {% set versionLogic = '' %}
  {% if 'v6' in url %}
    {% set versionLogic = ' --v6' %}
  {% endif %}

  <article{{ attributes.addClass(classes) }}>
  
    <div{{ content_attributes.addClass('node__content') }}>
      <div class="columns{{versionLogic}}">
  
        <div class="{{sidebarLogic}}">
          {{ content.field_header_paragraphs }}
  
          {% set formGreyBackgroundClass = '' %}
  
  
          {% if node.field_form_display_grey_backgrou.0.value == '1' %}
          
            {% set formGreyBackgroundClass = '--gray-background' %}
          
          {% endif %}
  
          {% if (node.field_hide_sidebar_rfi.0.value == 0) %}
            <div class="paid-twostep {{formGreyBackgroundClass}}" id="paid-twostep" data-containerid="{{ node.bundle ~ node.getCreatedTime() | clean_class }}">
    
              <div class="paid-twostep__wrapper">
                <h2 class="paid-twostep__header">{{ node.field_form_header.0.value }}</h2>
                <div class="paid-twostep__status">
                  <div class="paid-twostep__status-steps">
                    <span class="paid-twostep__status-label">Step 1 of 2</span>
                    <div class="paid-twostep__status-bar"></div>
                  </div>
                </div>
            
              
            
                <div class="paid-twostep__form two-step-webform" data-containerid="{{ node.bundle ~ node.getCreatedTime() | clean_class}}">
                  {{drupal_entity('webform', 'lead_flow_system', check_access=false)}}

                </div>

                <div class="paid-twostep__wascblock">
                  <img alt="wasc logo" data-entity-type="file" data-entity-uuid="0d5daa70-4ce0-46ad-935a-9757ecf68924" src="/themes/uagc/src/images/WASCLogoWhite.png" class="align-center">
                  <p>Disclaimer: The University of Arizona Global Campus is accredited by WASC Senior College and University Commission (WSCUC), 1001 Marina Village Parkway, Suite 402, Alameda, CA 94501, 510.748.9001, www.wscuc.org. WSCUC is an institutional accrediting body recognized by the U.S. Department of Education (ED) and the Council on Higher Education Accreditation (CHEA).</p>
                </div>
              </div>
            </div>
          {% endif %}
  
  
  
  
  
          {{ content.field_paragraphs }}
  
          {% if (node.field_disable_accreditation.0.value == 0) %}
            {{drupal_entity('block', 'wasc_accreditation', check_access=false) }}
            {% endif %}
          
          {% if content.field_footnotes['#items'].value %}
            <div class="footnotes">
              <div class="footnotes__wysiwyg">{{ content.field_footnotes }}</div>
            </div>
          {% endif %}
        </div>
        {% if (node.field_hide_sidebar_rfi.0.value == 0) %}
          <div class="columns__right"></div>
          <script type="text/javascript">
            //This is also defined in paragraph--paid-redesign-2-step.html
            //We call it here to make it instantaneous.

            if (!handlePaidTwoStepMove) {

              function handlePaidTwoStepMove() {
                var columns = document.querySelector('.columns');
                //Not on a column page, leave it alone.

                if (columns) {

                  //Grab the first form.
                  var form = document.querySelector('.columns__left .paid-twostep');

                  //If no form in the column, leave it alone.
                  if (form) {

                    //If we're on desktop, move it to the right column.
                    if (window.innerWidth > 1280) {
                      var colRight = document.querySelector('.columns__right');
                      colRight.appendChild(form);
                    }
                  }
                }
              };
            }


            if (typeof handlePaidTwoStepMove !== 'undefined') {
              handlePaidTwoStepMove();
            }
          
          </script>
        {% endif %}
  
      </div>
    </div>
    {{attach_library('uagc/two-step-paid')}}
    {{attach_library('uagc/lead-form-logic')}}
    {{ attach_library('uagc/paid') }}    
    {{ attach_library('uagc/main') }}
  </article>
  